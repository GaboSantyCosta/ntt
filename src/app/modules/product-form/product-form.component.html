<div class="product-form">
    <div class="form-header">
        Formulario de Registro
    </div>
    <div class="form-body">
        <form [formGroup]="productForm" (ngSubmit)="saveProduct()">
            <div class="column">
                <div class="form-group">
                    <label>ID</label>
                    <input formControlName="id">
                    <div class="error-message">
                        <div *ngIf="productForm.get('id')!.invalid && (productForm.get('id')!.dirty || productForm.get('id')!.touched)">
                            <div *ngIf="productForm.get('id')?.errors?.['required']">ID es requerido</div>
                            <div *ngIf="productForm.get('id')?.errors?.['minlength']">ID debe tener al menos 3 caracteres</div>
                            <div *ngIf="productForm.get('id')?.errors?.['maxlength']">ID no puede tener más de 10 caracteres</div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Descripción</label>
                    <input formControlName="description">
                    <div class="error-message">
                        <div *ngIf="productForm.get('description')!.invalid && (productForm.get('description')!.dirty || productForm.get('description')!.touched)">
                            <div *ngIf="productForm.get('description')?.errors?.['required']">La descripción es requerida</div>
                            <div *ngIf="productForm.get('description')?.errors?.['minlength']">Debe tener al menos 10 caracteres</div>
                            <div *ngIf="productForm.get('description')?.errors?.['maxlength']">No puede tener más de 200 caracteres</div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Fecha Liberación</label>
                    <input formControlName="date_release">
                    <div class="error-message">
                        <div *ngIf="productForm.get('date_release')!.invalid && (productForm.get('date_release')!.dirty || productForm.get('date_release')!.touched)">
                            <div *ngIf="productForm.get('date_release')!.errors!['required']">Este campo es obligatorio</div>
                            <div *ngIf="productForm.get('date_release')!.errors!['invalidDate']">La fecha de liberación debe ser igual o posterior a la fecha actual</div>
                        </div>
                    </div>
                </div>
                <button type="reset">Reiniciar</button>
            </div>
            <div class="column">
                <div class="form-group">
                    <label>Nombre</label>
                    <input formControlName="name">
                    <div class="error-message">
                        <div *ngIf="productForm.get('name')!.invalid && (productForm.get('name')!.dirty || productForm.get('name')!.touched)">
                            <div *ngIf="productForm.get('name')!.errors!['required']">El nombre es obligatorio</div>
                            <div *ngIf="productForm.get('name')?.errors?.['minlength']">Debe tener al menos 5 caracteres</div>
                            <div *ngIf="productForm.get('name')?.errors?.['maxlength']">No puede tener más de 100 caracteres</div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Logo</label>
                    <input formControlName="logo">
                    <div class="error-message">
                        <div *ngIf="productForm.get('logo')!.invalid && (productForm.get('logo')!.dirty || productForm.get('logo')!.touched)">
                            <div *ngIf="productForm.get('logo')!.errors!['required']">El logo es obligatorio</div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Fecha Revisión</label>
                    <input formControlName="date_revision">
                    <div class="error-message">
                        <div *ngIf="productForm.get('date_revision')!.invalid && (productForm.get('date_revision')!.dirty || productForm.get('date_revision')!.touched)">
                            <div *ngIf="productForm.get('date_revision')!.errors!['required']">Este campo es obligatorio</div>
                            <div *ngIf="productForm.get('date_revision')!.errors!['reviewDateValidator']">La fecha de revisión debe ser exactamente un año posterior a la fecha de liberación</div>
                        </div>
                    </div>
                </div>

                <button type="submit" class="send" [disabled]="!productForm.valid">Enviar</button>
            </div>
        </form>
        <div class="error_message" *ngIf="errorMessage">
          <p>{{ errorMessage }}</p>
        </div>
    </div>
</div>